{% extends 'base.html.twig' %}

{% block title %}QR Code du menu{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ importmap('pdf') }}
{% endblock %}
{% block body %}
    <div id="qrApp"
         data-pdf-base-url="{{ path('app_restaurant_pdf', {'id': restaurant.id, 'size': 0}) }}"
         class="max-w-xl mx-auto py-10 text-center">

        <input type="range" id="sizeRange" min="100" max="800" value="250" />

        <a id="pdfLink"
           href="{{ path('app_restaurant_pdf', {'id': restaurant.id, 'size': 250}) }}"
           class="btn btn-primary">
            Télécharger le PDF
        </a>

        <div id="qrContainer" style="width: 250px; height: 250px;">
            <img src="{{ qrCode }}" alt="QR Code" style="width: 100%; height: 100%;" />
        </div>
    </div>

    <script>
        window.pdfBaseUrl = "{{ path('app_restaurant_pdf', {'id': restaurant.id, 'size': 0}) }}";
    </script>

 {% endblock %}
